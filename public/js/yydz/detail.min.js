!function(i){function t(t){function e(){for(var t=-1,e=i(document).scrollTop(),n=0,o=c.length;n<o&&e+a.viewport.height()>c[n];n+=1)t+=1;return t}function n(){var t=e();r!==t&&(r=t,l.filter(function(t){return t<=r&&!i(this).hasClass(a.visibleClass)}).addClass(a.visibleClass).trigger("visible.visibleWatcher"),a.onVisible(l.eq(r),r))}function o(){l.each(function(){var t=i(this).attr("data-offset")?Number(i(this).attr("data-offset")):a.offset,e=t%1==0?t:t*a.viewport.height();c.push(i(this).offset().top+e)}),n(),a.onLoad()}var s,a,l=i(this),r=-1,c=[];s={viewport:i(window),visibleClass:"is-visible",offset:300,onLoad:i.noop,onVisible:i.noop},a=i.extend({},s,t),o(),a.viewport.on({"scroll.visibleWatcher":n,"resize.visibleWatcher":o})}i.fn.visibleWatcher=function(i){return t.call(this,i),this}}(jQuery);var yydzDetail={loadlazy:function(){var i=$("#app"),t=$(".section",i);t.visibleWatcher({onVisible:function(i,e){t.filter(function(i){return i<=e+1}).addClass("preload").find("img").each(function(){var i=$(this).attr("data-src");$(this).attr("src",i)})}})},yydzDetailList:function(){var i="//yydz.ums.quwannetwork.com:10101/h5/article/get_article_detail/",t={sendAjax:function(i,t,e,n){$.ajax({url:i,data:t,dataType:e,success:n})}};(function(i){i=i?i.substr(i.indexOf("?")+1):location.search.substring(1);for(var t={},e=decodeURI(i).split("&"),n=0;n<e.length;n++){var o=e[n].indexOf("=");if(-1!==o){var s=e[n].substring(0,o),a=e[n].substring(o+1);t[s]=decodeURI(a)}}})();var e=Request.articleid,n=Request.zone;console.log(e),console.log(n),t.sendAjax(i,{_id:e},"json",function(i){i&&0===i.code&&(window.vm=new Vue({el:"#app",data:{articleDetail:{content:"<p></p>",title:""},zoneTitle:"",isActive:!1,isWaiting:!0}}),vm.articleDetail=i.data)}),setTimeout(function(){window.vm.zoneTitle=n,"anounce"===n?vm.zoneTitle="扑克名人":"hot_spot"===n?vm.zoneTitle="近期热点":"bird_guide"===n?vm.zoneTitle="新手指南":"race_video"===n?vm.zoneTitle="赛事中心":"poker_cl"===n?vm.zoneTitle="扑克策略":"chess_cl"===n?vm.zoneTitle="棋牌策略":"poker_news"===n&&(vm.zoneTitle="行业新闻")}.bind(this),0)},init:function(){this.loadlazy(),this.yydzDetailList()}};$(document).ready(function(){yydzDetail.init()});